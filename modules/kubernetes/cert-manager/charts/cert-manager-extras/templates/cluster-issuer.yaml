---
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: letsencrypt
spec:
  acme:
    email: {{ .Values.notificationEmail }}
    server: {{ .Values.acmeServer }}
    privateKeySecretRef:
      name: letsencrypt-cluster-issuer-account-key
    solvers:
    - selector: {}
      http01:
        {{- if .Values.ingressPublicPrivateEnabled }}
        class: nginx-public
        {{ else }}
        class: nginx
        {{- end }}
